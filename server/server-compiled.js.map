{"version":3,"sources":["server.js"],"names":[],"mappings":";;AAAA;AACA;AACA,IAAM,KAAK,QAAQ,IAAR,CAAX;AACA,IAAM,OAAO,QAAQ,MAAR,CAAb;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AAAA,IACC,aAAa,QAAQ,aAAR,CADd;;AAGA,IAAI,MAAM,SAAV;AACA,IAAI,GAAJ,CAAQ,YAAR;;AAEA,IAAI,GAAJ,CAAQ,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AAChC,KAAI,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACA,KAAI,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACA;AACA,CAJD;;AAMA,IAAI,MAAM,IAAI,GAAJ,CAAQ,KAAR,KAAkB,aAAlB,GAAkC,KAAlC,GAA0C,IAAI,GAAJ,CAAQ,KAAR,CAApD;AACA,IAAI,OAAO,QAAQ,GAAR,CAAY,IAAZ,IAAoB,IAA/B;;AAGA;AACA,IAAI,GAAJ,CAAQ,wBAAR,EAAkC,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAwB;;AAEzD;;AAEA,KAAI,WAAW,IAAI,MAAJ,CAAW,QAA1B;AACA,KAAI,WAAU,oBAAoB,QAAlC;AACA,KAAI,QAAQ,GAAG,QAAH,CAAY,QAAZ,CAAZ;AACA,KAAG,MAAM,MAAN,EAAH,EAAkB;AACjB,MAAI,GAAJ,CAAQ;AACP,mBAAgB;AADT,GAAR;AAGA,KAAG,gBAAH,CAAoB,QAApB,EAA8B,IAA9B,CAAmC,GAAnC;AACA,EALD,MAKO;AACN,MAAI,GAAJ,CAAQ,GAAR;AACA;AACD,CAfD;;AAiBA;AACA,IAAI,SAAS,QAAQ,iBAAR,CAAb;;AAEA,KAAK,IAAI,CAAT,IAAc,MAAd,EAAsB;AACrB;AACA,QAAO,CAAP,EAAU,GAAV,CAAc,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AACtC;AACA;AACA;AACA,EAJD;;AAMD;AACA;AACC,KAAI,GAAJ,CAAQ,MAAR,EAAgB,MAAhB;AACA;;AAGD;AACA;AACA,IAAI,MAAJ,CAAW,IAAX;AACA,QAAQ,GAAR,CAAY,2BAA2B,IAAvC","file":"server-compiled.js","sourcesContent":["// BASE SETUP\n// =============================================================================\nconst fs = require('fs');\nconst path = require('path');\nvar mime = require('mime');\n\nconst express = require('express'),\n\tbodyParser = require('body-parser');\n\nvar app = express();\napp.use(bodyParser());\n\napp.use(function(req, res, next) {\n\tres.header(\"Access-Control-Allow-Origin\", \"*\");\n\tres.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n\tnext();\n});\n\nvar env = app.get('env') == 'development' ? 'dev' : app.get('env');\nvar port = process.env.PORT || 3000;\n\n\n// DOWNLOAD FILE\napp.get('/white_paper/:fileName', function(req, res, next){\n\n\t// var file = req.params.file\n\n\tvar fileName = req.params.fileName;\n\tvar filePath =\"./server/files/\" + fileName;\n\tvar stats = fs.statSync(filePath);\n\tif(stats.isFile()){\n\t\tres.set({\n\t\t\t'Content-Type': 'application/octet-stream',\n\t\t});\n\t\tfs.createReadStream(filePath).pipe(res);\n\t} else {\n\t\tres.end(404);\n\t}\n});\n\n// ======Router======\nvar Router = require(\"./modules/index\");\n\nfor (var i in Router) {\n\t// Middleware to use for all requests\n\tRouter[i].use(function(req, res, next) {\n\t\t// do logging\n\t\t// console.log('Something is happening.');\n\t\tnext();\n\t});\n\n// REGISTER OUR ROUTES\n// =============================================================================\n\tapp.use('/api', Router);\n}\n\n\n// START THE SERVER\n// =============================================================================\napp.listen(port);\nconsole.log('Magic happens on port ' + port);\n"]}